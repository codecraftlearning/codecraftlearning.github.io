import{a as xe,b as E,c as Xe,d as q,e as U,f as $,g as et,h as be,i as G,j as de,k as it}from"./chunk-52SD4DZK.js";import{A as c,Aa as _,B as W,Ba as R,C as je,Ca as J,Da as Je,Ea as Y,Fa as he,G as i,H as t,Ha as Z,I as f,Ia as ae,J as D,Ja as le,K as B,Ka as Q,L as k,La as X,M as b,Ma as ee,N as g,Na as te,Oa as Ye,Qa as ne,Ra as Ze,Sa as Qe,T as r,Ta as tt,U as h,V as F,Va as nt,W as Le,X as Re,Y as $e,a as A,b as I,ba as Te,c as De,ca as Ge,d as Be,da as ze,g as ge,ga as He,ha as L,i as qe,ia as re,j,k as fe,ka as Ue,n as S,o as y,ra as We,s as Ae,ta as Ke,v as l,w as O,wa as me,y as u,ya as _e,za as K}from"./chunk-REUI3DMA.js";import{a as T,b as pe,f as H}from"./chunk-EMNZ2YI5.js";var V=class{constructor(d=0,e="Network Error"){this.status=d,this.text=e}};var ot=()=>{if(!(typeof localStorage>"u"))return{get:n=>Promise.resolve(localStorage.getItem(n)),set:(n,d)=>Promise.resolve(localStorage.setItem(n,d)),remove:n=>Promise.resolve(localStorage.removeItem(n))}};var w={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:ot()};var ce=n=>n?typeof n=="string"?{publicKey:n}:n.toString()==="[object Object]"?n:{}:{};var rt=(n,d="https://api.emailjs.com")=>{if(!n)return;let e=ce(n);w.publicKey=e.publicKey,w.blockHeadless=e.blockHeadless,w.storageProvider=e.storageProvider,w.blockList=e.blockList,w.limitRate=e.limitRate,w.origin=e.origin||d};var ve=(o,a,...s)=>H(void 0,[o,a,...s],function*(n,d,e={}){let m=yield fetch(w.origin+n,{method:"POST",headers:e,body:d}),v=yield m.text(),C=new V(m.status,v);if(m.ok)return C;throw C});var Ce=(n,d,e)=>{if(!n||typeof n!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!d||typeof d!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!e||typeof e!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"};var at=n=>{if(n&&n.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"};var Se=n=>n.webdriver||!n.languages||n.languages.length===0;var ye=()=>new V(451,"Unavailable For Headless Browser");var lt=(n,d)=>{if(!Array.isArray(n))throw"The BlockList list has to be an array";if(typeof d!="string")throw"The BlockList watchVariable has to be a string"};var vt=n=>!n.list?.length||!n.watchVariable,Ct=(n,d)=>n instanceof FormData?n.get(d):n[d],Ee=(n,d)=>{if(vt(n))return!1;lt(n.list,n.watchVariable);let e=Ct(d,n.watchVariable);return typeof e!="string"?!1:n.list.includes(e)};var ke=()=>new V(403,"Forbidden");var dt=(n,d)=>{if(typeof n!="number"||n<0)throw"The LimitRate throttle has to be a positive number";if(d&&typeof d!="string")throw"The LimitRate ID has to be a non-empty string"};var St=(n,d,e)=>H(void 0,null,function*(){let o=Number((yield e.get(n))||0);return d-Date.now()+o}),Pe=(n,d,e)=>H(void 0,null,function*(){if(!d.throttle||!e)return!1;dt(d.throttle,d.id);let o=d.id||n;return(yield St(o,d.throttle,e))>0?!0:(yield e.set(o,Date.now().toString()),!1)});var we=()=>new V(429,"Too Many Requests");var ct=(n,d,e,o)=>H(void 0,null,function*(){let a=ce(o),s=a.publicKey||w.publicKey,m=a.blockHeadless||w.blockHeadless,v=a.storageProvider||w.storageProvider,C=T(T({},w.blockList),a.blockList),p=T(T({},w.limitRate),a.limitRate);return m&&Se(navigator)?Promise.reject(ye()):(Ce(s,n,d),at(e),e&&Ee(C,e)?Promise.reject(ke()):(yield Pe(location.pathname,p,v))?Promise.reject(we()):ve("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:s,service_id:n,template_id:d,template_params:e}),{"Content-type":"application/json"}))});var st=n=>{if(!n||n.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"};var yt=n=>typeof n=="string"?document.querySelector(n):n,mt=(n,d,e,o)=>H(void 0,null,function*(){let a=ce(o),s=a.publicKey||w.publicKey,m=a.blockHeadless||w.blockHeadless,v=w.storageProvider||a.storageProvider,C=T(T({},w.blockList),a.blockList),p=T(T({},w.limitRate),a.limitRate);if(m&&Se(navigator))return Promise.reject(ye());let N=yt(e);Ce(s,n,d),st(N);let M=new FormData(N);return Ee(C,M)?Promise.reject(ke()):(yield Pe(location.pathname,p,v))?Promise.reject(we()):(M.append("lib_version","4.4.1"),M.append("service_id",n),M.append("template_id",d),M.append("user_id",s),ve("/api/v1.0/email/send-form",M))});var ut={init:rt,send:ct,sendForm:mt,EmailJSResponseStatus:V};function kt(n,d){n&1&&(i(0,"h5",42),r(1,"Create Student"),t())}function Pt(n,d){if(n&1&&(i(0,"h5",42),r(1),t()),n&2){let e,o=g(2);l(),F("Update Student - ",(e=o.studentForm.get("id"))==null?null:e.value,"")}}function wt(n,d){if(n&1){let e=k();i(0,"button",43),b("click",function(){S(e);let a=g(2);return y(a.certifyStudent())}),r(1,"Verified and Certify"),t()}}function Mt(n,d){if(n&1){let e=k();i(0,"button",43),b("click",function(){S(e);let a=g(2);return y(a.sendOnboardingEmail())}),r(1,"Send Onboarding Email"),t()}}function Ot(n,d){n&1&&(i(0,"div",44),r(1," Name is required. "),t())}function Ft(n,d){n&1&&(i(0,"div",44),r(1," Valid age is required. "),t())}function Tt(n,d){n&1&&(i(0,"div",44),r(1," Gender is required. "),t())}function It(n,d){n&1&&(i(0,"div",44),r(1," Invalid Aadhar Number. "),t())}function Nt(n,d){n&1&&(i(0,"div",44),r(1,'"> Valid email is required. '),t())}function Vt(n,d){n&1&&(i(0,"div",44),r(1,'"> Phone is required. '),t())}function Dt(n,d){n&1&&(i(0,"div",44),r(1,'"> Street is required. '),t())}function Bt(n,d){n&1&&(i(0,"div",44),r(1,'"> City is required. '),t())}function qt(n,d){n&1&&(i(0,"div",44),r(1,'"> State is required. '),t())}function At(n,d){n&1&&(i(0,"div",44),r(1,'"> Valid zip is required. '),t())}function jt(n,d){n&1&&(i(0,"div",44),r(1,'"> Country is required. '),t())}function Lt(n,d){if(n&1){let e=k();i(0,"div",63)(1,"h6",64),r(2),t(),i(3,"button",65),b("click",function(){S(e);let a=g().index,s=g(2);return y(s.courses.removeAt(a))}),r(4," - Remove Course"),t()()}if(n&2){let e=g().index;l(2),F("Course ",e+1,"")}}function Rt(n,d){if(n&1&&(i(0,"option",66),r(1),t()),n&2){let e=d.$implicit;c("value",e.id),l(),h(e.name)}}function $t(n,d){n&1&&(i(0,"div",44),r(1," Add aadhar number to assign a batch. "),t())}function Gt(n,d){if(n&1){let e=k();i(0,"a",70),b("click",function(){S(e);let a=g().index,s=g().$implicit,m=g(2);return y(m.removeTechAt(s,a))}),r(1,"x"),t()}}function zt(n,d){if(n&1&&(D(0),i(1,"div",67)(2,"span",68),r(3),t(),u(4,Gt,2,0,"a",69),t(),B()),n&2){let e=d.$implicit,o=g().$implicit,a=g(2);l(3),h(e),l(),c("ngIf",a.getTechStack(o).length>1)}}function Ht(n,d){if(n&1&&(i(0,"option",66),r(1),t()),n&2){let e=d.$implicit;c("value",e.title),l(),h(e.title)}}function Ut(n,d){n&1&&(i(0,"div",44),r(1," Course name is required. "),t())}function Wt(n,d){n&1&&(i(0,"div",44),r(1," Custom Course Name is required. "),t())}function Kt(n,d){n&1&&(i(0,"div",44),r(1," Duration is required. "),t())}function Jt(n,d){n&1&&(i(0,"div",44),r(1," Monthly Price is required. "),t())}function Yt(n,d){n&1&&(i(0,"div",44),r(1," Enrollment Date is required. "),t())}function Zt(n,d){n&1&&(i(0,"div",44),r(1," Completion Date cannot be before Enrollment Date. "),t())}function Qt(n,d){n&1&&(i(0,"div",44),r(1," instructor name is required. "),t())}function Xt(n,d){n&1&&(i(0,"div",44),r(1," Course current status is required. "),t())}function en(n,d){if(n&1&&(i(0,"option",66),r(1),t()),n&2){let e=d.$implicit;c("value",e),l(),F("",e," ")}}function tn(n,d){n&1&&(i(0,"div",44),r(1," Certification type is required. "),t())}function nn(n,d){if(n&1&&(i(0,"div",45),u(1,Lt,5,1,"div",46),i(2,"div",47)(3,"div",13)(4,"label"),r(5,"Batch name"),t(),i(6,"select",48)(7,"option",18),r(8,"Select Batch"),t(),u(9,Rt,2,2,"option",49),t(),u(10,$t,2,0,"div",15),t()(),i(11,"div",50)(12,"label"),r(13,"Tech Stack"),t(),i(14,"div",51),u(15,zt,5,2,"ng-container",52),t()(),i(16,"div",12)(17,"div",13)(18,"label"),r(19,"Course Name*"),t(),i(20,"select",14),u(21,Ht,2,2,"option",49),t(),u(22,Ut,2,0,"div",15),t(),i(23,"div",13)(24,"label"),r(25,"Custom Course Name"),t(),f(26,"input",53),u(27,Wt,2,0,"div",15),t(),i(28,"div",13)(29,"label"),r(30,"Default Duration*"),t(),f(31,"input",54),u(32,Kt,2,0,"div",15),t(),i(33,"div",13)(34,"label"),r(35,"Monthly Price*"),t(),f(36,"input",55),u(37,Jt,2,0,"div",15),t()(),i(38,"div",12)(39,"div",13)(40,"label"),r(41,"Enrollment Date*"),t(),f(42,"input",56),u(43,Yt,2,0,"div",15),t(),i(44,"div",13)(45,"label"),r(46,"Completion Date"),t(),f(47,"input",57),u(48,Zt,2,0,"div",15),t(),i(49,"div",58)(50,"label"),r(51,"Instructor*"),t(),f(52,"input",59),u(53,Qt,2,0,"div",15),t(),i(54,"div",13)(55,"label"),r(56,"Status*"),t(),f(57,"input",60),u(58,Xt,2,0,"div",15),t()(),i(59,"div",61)(60,"div",12)(61,"div",13)(62,"label"),r(63,"Certification Type"),t(),i(64,"select",62),u(65,en,2,2,"option",49),t(),u(66,tn,2,0,"div",15),t(),i(67,"div",13)(68,"label"),r(69,"Certification Status*"),t(),f(70,"input",60),t(),i(71,"div",13)(72,"label"),r(73,"Certification Date"),t(),f(74,"input",60),t(),i(75,"div",13)(76,"label"),r(77,"Certificate ID"),t(),f(78,"input",60),t()()()()),n&2){let e,o,a,s,m,v,C,p,N,M,ie,z,x,Ie,Ne,Ve,P=d.$implicit,bt=d.index,oe=g(2);c("formGroupName",bt),l(),c("ngIf",!oe.isEditMode),l(5),W("disabled",!((e=oe.studentForm.get("aadharNumber"))!=null&&e.value)),l(3),c("ngForOf",oe.availableBatches),l(),c("ngIf",!((o=oe.studentForm.get("aadharNumber"))!=null&&o.value)),l(5),c("ngForOf",oe.getTechStack(P)),l(6),c("ngForOf",oe.courseList),l(),c("ngIf",((a=P.get("name"))==null?null:a.invalid)&&((a=P.get("name"))==null?null:a.touched)),l(),W("disabled",((s=P.get("name"))==null?null:s.value)!=="CUSTOM"),l(4),c("ngIf",((m=P.get("customName"))==null?null:m.invalid)&&((m=P.get("customName"))==null?null:m.touched)),l(5),c("ngIf",((v=P.get("defaultDuration"))==null?null:v.invalid)&&((v=P.get("defaultDuration"))==null?null:v.touched)),l(5),c("ngIf",((C=P.get("price"))==null?null:C.invalid)&&((C=P.get("price"))==null?null:C.touched)),l(6),c("ngIf",((p=P.get("enrollmentDate"))==null?null:p.invalid)&&((p=P.get("enrollmentDate"))==null?null:p.touched)),l(5),c("ngIf",((N=P.get("completionDate"))==null||N.errors==null?null:N.errors.completionBeforeEnrollment)&&((N=P.get("completionDate"))==null?null:N.touched)),l(5),c("ngIf",((M=P.get("instructor"))==null?null:M.invalid)&&((M=P.get("instructor"))==null?null:M.touched)),l(4),c("value",(ie=P.get("status"))==null?null:ie.value),l(),c("ngIf",((z=P.get("status"))==null?null:z.invalid)&&((z=P.get("status"))==null?null:z.touched)),l(7),c("ngForOf",oe.certificationTypeList),l(),c("ngIf",(x=P.get("certification.certificationType"))==null?null:x.invalid),l(4),c("value",(Ie=P.get("certification.certificationStatus"))==null?null:Ie.value),l(4),c("value",(Ne=P.get("certification.certificationDate"))==null?null:Ne.value),l(4),c("value",(Ve=P.get("certification.certificateId"))==null?null:Ve.value)}}function on(n,d){if(n&1){let e=k();i(0,"button",71),b("click",function(){S(e);let a=g(2);return y(a.addCourse())}),r(1,"+ Add Course"),t()}}function rn(n,d){if(n&1){let e=k();i(0,"button",43),b("click",function(){S(e);let a=g(3);return y(a.onSubmit())}),r(1,"Create"),t()}}function an(n,d){if(n&1){let e=k();i(0,"button",43),b("click",function(){S(e);let a=g(3);return y(a.updateStudent())}),r(1,"Update Student"),t()}}function ln(n,d){if(n&1&&(D(0),u(1,rn,2,0,"button",7)(2,an,2,0,"button",7),B()),n&2){let e=g(2);l(),c("ngIf",!e.isEditMode),l(),c("ngIf",e.isEditMode)}}function dn(n,d){if(n&1){let e=k();i(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5),u(5,kt,2,0,"h5",6)(6,Pt,2,1,"h5",6)(7,wt,2,0,"button",7)(8,Mt,2,0,"button",7),t(),i(9,"button",8),b("click",function(){S(e);let a=g();return y(a.closeModal())}),i(10,"span",9),r(11,"\xD7"),t()()(),i(12,"form",10)(13,"div",11)(14,"div",12)(15,"div",13)(16,"label"),r(17,"Full Name*"),t(),f(18,"input",14),u(19,Ot,2,0,"div",15),t(),i(20,"div",13)(21,"label"),r(22,"Age*"),t(),f(23,"input",16),u(24,Ft,2,0,"div",15),t(),i(25,"div",13)(26,"label"),r(27,"Gender*"),t(),i(28,"select",17)(29,"option",18),r(30,"Select"),t(),i(31,"option",19),r(32,"Male"),t(),i(33,"option",20),r(34,"Female"),t(),i(35,"option",21),r(36,"Other"),t()(),u(37,Tt,2,0,"div",15),t(),i(38,"div",13)(39,"label"),r(40,"AAdhar Number"),t(),f(41,"input",22),u(42,It,2,0,"div",15),t()(),i(43,"div",23)(44,"div",24)(45,"div",13)(46,"label"),r(47,"Email*"),t(),f(48,"input",25),u(49,Nt,2,0,"div",15),t(),i(50,"div",13)(51,"label"),r(52,"Phone*"),t(),f(53,"input",26),u(54,Vt,2,0,"div",15),t(),i(55,"div",13)(56,"label"),r(57,"Alternate Phone"),t(),f(58,"input",27),t()()(),i(59,"div",28)(60,"div",29)(61,"div",13)(62,"label"),r(63,"Street*"),t(),f(64,"input",30),u(65,Dt,2,0,"div",15),t(),i(66,"div",13)(67,"label"),r(68,"City*"),t(),f(69,"input",31),u(70,Bt,2,0,"div",15),t(),i(71,"div",13)(72,"label"),r(73,"State*"),t(),f(74,"input",32),u(75,qt,2,0,"div",15),t(),i(76,"div",13)(77,"label"),r(78,"Zip*"),t(),f(79,"input",33),u(80,At,2,0,"div",15),t(),i(81,"div",13)(82,"label"),r(83,"Country*"),t(),f(84,"input",34),u(85,jt,2,0,"div",15),t()()(),i(86,"div",35),u(87,nn,79,24,"div",36)(88,on,2,0,"button",37),t()(),f(89,"app-loader",38),i(90,"div",39),u(91,ln,3,2,"ng-container",40),i(92,"button",41),b("click",function(){S(e);let a=g();return y(a.closeModal())}),r(93,"Cancel"),t()()()()()()}if(n&2){let e,o,a,s,m,v,C,p,N,M,ie,z,x=g();l(5),c("ngIf",!x.isEditMode),l(),c("ngIf",x.isEditMode),l(),c("ngIf",x.isReadyToCertify),l(),c("ngIf",!((e=x.studentForm.get("aadharNumber"))!=null&&e.value)),l(4),c("formGroup",x.studentForm),l(),W("hidden",x.creatingStudent),l(6),c("ngIf",((o=x.studentForm.get("name"))==null?null:o.invalid)&&((o=x.studentForm.get("name"))==null?null:o.touched)),l(5),c("ngIf",((a=x.studentForm.get("age"))==null?null:a.invalid)&&((a=x.studentForm.get("age"))==null?null:a.touched)),l(13),c("ngIf",((s=x.studentForm.get("gender"))==null?null:s.invalid)&&((s=x.studentForm.get("gender"))==null?null:s.touched)),l(5),c("ngIf",((m=x.studentForm.get("aadharNumber"))==null?null:m.invalid)&&((m=x.studentForm.get("aadharNumber"))==null?null:m.touched)),l(7),c("ngIf",((v=x.studentForm.get("contact.email"))==null?null:v.invalid)&&((v=x.studentForm.get("contact.email"))==null?null:v.touched)),l(5),c("ngIf",((C=x.studentForm.get("contact.phone"))==null?null:C.invalid)&&((C=x.studentForm.get("contact.phone"))==null?null:C.touched)),l(11),c("ngIf",((p=x.studentForm.get("address.street"))==null?null:p.invalid)&&((p=x.studentForm.get("address.street"))==null?null:p.touched)),l(5),c("ngIf",((N=x.studentForm.get("address.city"))==null?null:N.invalid)&&((N=x.studentForm.get("address.city"))==null?null:N.touched)),l(5),c("ngIf",((M=x.studentForm.get("address.state"))==null?null:M.invalid)&&((M=x.studentForm.get("address.state"))==null?null:M.touched)),l(5),c("ngIf",((ie=x.studentForm.get("address.zip"))==null?null:ie.invalid)&&((ie=x.studentForm.get("address.zip"))==null?null:ie.touched)),l(5),c("ngIf",((z=x.studentForm.get("address.country"))==null?null:z.invalid)&&((z=x.studentForm.get("address.country"))==null?null:z.touched)),l(),W("pointer-events-none",x.isCertified),l(),c("ngForOf",x.courses.controls),l(),c("ngIf",!x.isEditMode),l(),c("loading",x.creatingStudent),l(),W("disabled",x.creatingStudent),l(),c("ngIf",!x.isCertified)}}var pt=(()=>{class n{set SelectedStudent(e){if(e){this.courses.clear(),this.studentForm.reset(),this.isOpen=!0,this.isEditMode=!!e.id;let o=T({},e);o.course=o.course?[o.course]:[],this.studentForm.patchValue(o),this.addCourse(o.course[0]),this.studentForm.updateValueAndValidity()}}constructor(e,o){this.fb=e,this.firebaseService=o,this.isOpen=!1,this.onClose=new Ae,this.isEditMode=!1,this.courseList=[],this.courseStatusList=Object.values(q),this.certificationStatusList=Object.values(U),this.certificationTypeList=Object.values(Xe),this.creatingStudent=!1,this.availableBatches=[],this.configuration={},this.subscriptions=new A,this.studentForm=this.fb.group({id:[null],name:["",_.required],age:[null,[_.required,_.min(1)]],gender:["",_.required],aadharNumber:[null,[_.pattern("^[0-9]{12}$")]],contact:this.fb.group({email:["",[_.required,_.email]],phone:["",_.required],alternatePhone:[""]}),address:this.fb.group({street:["",_.required],city:["",_.required],state:["",_.required],zip:[null,[_.required,_.pattern("^[0-9]{6}$")]],country:["",_.required]}),course:this.fb.array([])})}ngOnInit(){this.loadConfiguration(),this.loadAllCourses(),this.loadAllBatches()}get showKycButton(){return!this.studentForm.get("aadharNumber")?.value&&this.isEditMode}loadConfiguration(){this.subscriptions.add(this.firebaseService.getAllFromCollection(E.configurations).subscribe(e=>{this.configuration=e&&e.length>0?e[0]:{}}))}loadAllBatches(){this.subscriptions.add(this.firebaseService.getAllFromCollection(E.batches).subscribe(e=>{this.availableBatches=e}))}getBatch(e){let o=this.availableBatches.find(a=>a.id===e);return o||null}get courses(){return this.studentForm.get("course")}getTechStack(e){return e.get("technology")?.value??[]}addCourse(e){let o=this.fb.group({batchName:[e?.batchName||null],name:[e?.name||"",_.required],customName:[e?.customName||""],defaultDuration:[e?.defaultDuration||null,_.required],enrollmentDate:[e?.enrollmentDate||null,_.required],completionDate:[e?.completionDate||null,this.completionAfterEnrollmentValidator],technology:[e?.technology||[],_.required],price:[e?.price||0,[_.required,_.min(0)]],instructor:[e?.instructor||"",_.required],status:[e?.status||q.notStarted,_.required],certification:this.fb.group({certificationType:[e?.certification?.certificationType||""],certificationStatus:[e?.certification?.certificationStatus||U.notApplicable,_.required],certificationDate:[e?.certification?.certificationDate||""],certificateId:[e?.certification?.certificateId||""]})});this.nameValueChanges(o),this.completionDateValueChanges(o),this.batchNameValueChanges(o),e&&(e.name?.toLowerCase()==="custom"?o.get("customName")?.addValidators(_.required):(o.get("customName")?.removeValidators(_.required),o.get("customName")?.setErrors(null)),o.updateValueAndValidity()),this.courses.push(o)}nameValueChanges(e){let o=e.controls.name.valueChanges.subscribe(a=>{let s=this.courseList.find(m=>m.title===a);s&&(e.patchValue({defaultDuration:s.durationInMonth,price:s.discountPrice,technology:s.allTechItems||[]}),s.title.toLowerCase()==="custom"?e.get("customName")?.addValidators(_.required):(e.get("customName")?.removeValidators(_.required),e.get("customName")?.setErrors(null)),e.updateValueAndValidity())});this.subscriptions.add(o)}completionDateValueChanges(e){let o=e.controls.completionDate.valueChanges.subscribe(a=>{a&&(e.patchValue({certification:{certificationStatus:U.pending},status:q.completed}),e.get("certification.certificationType")?.setValidators([_.required]),e.get("certification.certificationType")?.updateValueAndValidity(),e.get("certification.certificationType")?.markAllAsTouched())});this.subscriptions.add(o)}batchNameValueChanges(e){let o=e.controls.batchName.valueChanges.subscribe(a=>{(e.controls.status.value===q.notStarted||e.controls.status.value===q.inProgress)&&(e.patchValue({status:q.inProgress,instructor:this.getBatch(a)?.instructorName||""}),e.updateValueAndValidity())});this.subscriptions.add(o)}removeTechAt(e,o){let a=e.get("technology")?.value??[];a.length!==1&&(a.splice(o,1),e.patchValue({technology:a}),e.updateValueAndValidity())}closeModal(){this.isOpen=!1,this.isEditMode=!1,this.courses.clear(),this.studentForm.reset(),window.history.replaceState({},document.title,window.location.pathname),this.onClose.emit()}onSubmit(){if(this.studentForm.valid){this.creatingStudent=!0;let e=[];this.getFlatStudents().forEach(a=>{e.push(this.firebaseService.saveNewData(E.students,a,a.id)),this.updateStudentLog(a)});let o=I(Promise.all(e)).subscribe({next:()=>{this.sendOnboardingEmail(),this.closeModal(),this.creatingStudent=!1,window.alert("Student created successfully!")},error:a=>{console.error("Error creating student:",a),this.creatingStudent=!1,window.alert("Failed to create student. Please try again.")}});this.subscriptions.add(o)}else this.studentForm.markAllAsTouched(),console.error("Form is invalid")}getFlatStudents(){let e=[],o=0;return this.studentForm.value.course.forEach(a=>{++o;let s=pe(T({},this.studentForm.value),{course:a});s.id=this.createId()+o,e.push(s)}),e}startKyc(){}updateStudent(){let e=this.studentForm.value;e.course=e.course[0];let o=e.id;if(this.studentForm.valid&&o){this.creatingStudent=!0;let a=I(this.firebaseService.updateData(E.students,o,e)).subscribe({next:()=>{this.closeModal(),this.creatingStudent=!1,window.alert("Student updated successfully!"),this.updateStudentLog(e)},error:s=>{console.error("Error updating student:",s),this.creatingStudent=!1,window.alert("Failed to update student. Please try again.")}});this.subscriptions.add(a)}else this.studentForm.markAllAsTouched(),console.error("Form is invalid or student ID is missing")}updateStudentLog(e){let o={id:e.id??"",email:e.contact.email,name:e.name,gender:e.gender??"",courseTitle:e.course.name==="CUSTOM"?e.course.customName??"":e.course.name};this.subscriptions.add(I(this.firebaseService.saveNewData(E.studentLog,o,e.id)).subscribe())}certifyStudent(){let e=this.studentForm.value;if(!e.id||e.course[0].status!==q.completed){window.alert("Student is not eligible for certification.");return}this.subscriptions.add(this.firebaseService.getAllFromCollection(E.reviews).subscribe(o=>{if(o.findIndex(a=>a.studentId===e.id)===-1){window.alert("Student review not submitted. Certification cannot be processed.");return}this.studentForm.get("course")?.at(0)?.get("certification")?.patchValue({certificationStatus:U.certified,certificationDate:new Date().toDateString(),certificateId:e.id}),this.studentForm.updateValueAndValidity(),this.updateStudent(),this.generateCertificate()}))}generateCertificate(){let e=this.studentForm.value,o={id:e.id??"",issuedTo:e.name,courseTitle:e.course.name!=="CUSTOM"?e.course.name:e.course.customName,technologiesCovered:e.course.technology,duration:`${e.course.defaultDuration} months`,completionDate:e.course.certification?.certificationDate,certifiedBy:e.course.instructor??"",modeOfLearning:"Online",certificationType:e.course.certification?.certificationType,IssuedUnder:"Code Craft Learning"};this.subscriptions.add(I(this.firebaseService.saveNewData(E.certificates,o,e.id)).subscribe({next:()=>{console.log("Certificate generated successfully:",o),window.alert("Certificate generated successfully!")},error:a=>{console.error("Error generating certificate:",a),window.alert("Failed to generate certificate. Please try again.")}}))}loadAllCourses(){let e={description:"Custom Course",title:"CUSTOM",index:0,regularPrice:0,discountPrice:0,durationInMonth:0,technologies:[],allTechItems:[]},o=this.firebaseService.getAllFromCollection(E.coursePackages).subscribe(a=>{this.courseList=[e,...a]});this.subscriptions.add(o)}createId(){let o=this.studentForm.value.name.substring(0,2).toLowerCase(),a=Math.random().toString(36).substring(2,6);return o+a}ngOnDestroy(){this.subscriptions.unsubscribe()}get isReadyToCertify(){if(this.isEditMode){let e=this.studentForm.get("course")?.value[0];if(e.status===q.completed&&e.completionDate)return e.certification.certificationStatus===U.pending}return!1}get isCertified(){return this.studentForm.get("course")?.value[0]?.certification?.certificationStatus===U.certified}completionAfterEnrollmentValidator(e){let o=e.parent;if(!o)return null;let a=o.get("enrollmentDate")?.value,s=e.value;return a&&s&&new Date(s)<=new Date(a)?{completionBeforeEnrollment:!0}:null}sendOnboardingEmail(){let e=this.studentForm.value;if(e.course=e.course[0],!this.configuration.email||!this.configuration.email.serviceId||!this.configuration.email.publicKey){console.warn("Email configuration is not set.");return}let o={studentId:e.id||"",studentName:e.name||"",email:e.contact.email||"",courseTitle:e.course.name==="CUSTOM"?e.course.customName||"":e.course.name,technologiesCovered:e.course.technology.join(", ")||"",duration:`${e.course.defaultDuration} months`,price:e.course.price??0};ut.send(this.configuration.email.serviceId,this.configuration.email.onboardingTemplateId,o,this.configuration.email.publicKey).then(()=>{window.alert("Onboarding email sent successfully.")})}static{this.\u0275fac=function(o){return new(o||n)(O(ne),O(G))}}static{this.\u0275cmp=j({type:n,selectors:[["app-create-student-modal"]],inputs:{isOpen:"isOpen",SelectedStudent:"SelectedStudent"},outputs:{onClose:"onClose"},decls:1,vars:1,consts:[["class","modal","tabindex","-1","role","dialog",4,"ngIf"],["tabindex","-1","role","dialog",1,"modal"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"flex","flex-row","gap-2","items-center"],["class","modal-title",4,"ngIf"],["class","button-accent-sm",3,"click",4,"ngIf"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[3,"formGroup"],[1,"modal-body"],[1,"grid","grid-cols-4","gap-8"],[1,"form-group"],["formControlName","name",1,"form-control"],["class","text-red-500",4,"ngIf"],["type","number","formControlName","age",1,"form-control"],["formControlName","gender",1,"form-control"],["value",""],["value","Male"],["value","Female"],["value","Other"],["formControlName","aadharNumber",1,"form-control"],["formGroupName","contact"],[1,"grid","grid-cols-3","gap-8"],["formControlName","email",1,"form-control"],["formControlName","phone",1,"form-control"],["formControlName","alternatePhone",1,"form-control"],["formGroupName","address"],[1,"grid","grid-cols-5","gap-8"],["formControlName","street",1,"form-control"],["formControlName","city",1,"form-control"],["formControlName","state",1,"form-control"],["formControlName","zip",1,"form-control"],["formControlName","country",1,"form-control"],["formArrayName","course"],["class","border p-2 mb-2",3,"formGroupName",4,"ngFor","ngForOf"],["type","button","class","button-primary-sm",3,"click",4,"ngIf"],[3,"loading"],[1,"modal-footer"],[4,"ngIf"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"modal-title"],[1,"button-accent-sm",3,"click"],[1,"text-red-500"],[1,"border","p-2","mb-2",3,"formGroupName"],["class","flex flex-row gap-4 align-middle",4,"ngIf"],[1,"grid","grid-cols-2","gap-8"],["formControlName","batchName",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],[1,"form-group","flex","flex-col","w-full","mb-3","border","border-dotted","border-1","border-black","px-4","py-1"],[1,"flex","flex-row","gap-2","flex-wrap","mb-2"],[4,"ngFor","ngForOf"],["formControlName","customName",1,"form-control"],["formControlName","defaultDuration",1,"form-control"],["type","number","formControlName","price",1,"form-control"],["type","date","formControlName","enrollmentDate",1,"form-control"],["type","date","formControlName","completionDate",1,"form-control"],[1,"form-group","pointer-events-none"],["formControlName","instructor","readonly","",1,"form-control","bg-slate-300"],["readonly","",1,"bg-slate-300","form-control",3,"value"],["formGroupName","certification"],["formControlName","certificationType",1,"form-control"],[1,"flex","flex-row","gap-4","align-middle"],[1,"mb-2","text-text","underline","underline-offset-2"],["type","button",1,"mt-2","bg-red-300","px-4","rounded-lg",3,"click"],[3,"value"],[1,"bg-blue-300","rounded-lg","px-2","flex","flex-row","gap-4","items-center"],[1,"text-primary","text-sm"],["class","cursor-pointer text-black text-sm hover:text-red-500",3,"click",4,"ngIf"],[1,"cursor-pointer","text-black","text-sm","hover:text-red-500",3,"click"],["type","button",1,"button-primary-sm",3,"click"]],template:function(o,a){o&1&&u(0,dn,94,26,"div",0),o&2&&c("ngIf",a.isOpen)},dependencies:[L,re,Y,ee,te,K,he,X,R,J,Z,Q,ae,le,de],styles:[".modal[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background:#00000080;position:fixed;inset:0;height:100vh;width:100vw;z-index:1050}.modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{background:#fff;border-radius:8px;width:70%;height:90%;overflow-y:auto;margin:2rem auto;box-shadow:0 4px 24px #0003}.modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{border:none;border-radius:8px;overflow:hidden}.modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1rem 1.5rem;border-bottom:1px solid #e9ecef;background:#f8f9fa}.modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600}.modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{background:transparent;border:none;font-size:1.5rem;cursor:pointer;color:#333;transition:color .2s}.modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]:hover{color:#d9534f}.modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{padding:1.5rem}.modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:1.25rem}.modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:500}.modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:.5rem .75rem;border:1px solid #ced4da;border-radius:4px;font-size:1rem;transition:border-color .2s}.modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#d9534f;font-size:.875rem;margin-top:.25rem}.modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding:1rem 1.5rem;border-top:1px solid #e9ecef;background:#f8f9fa}.modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:100px;margin-left:.5rem}"]})}}return n})();var mn=(n,d,e)=>({"course-completed":n,"course-in-progress":d,"course-not-started":e}),un=(n,d,e)=>({"certification-certified":n,"certification-pending":d,"certification-not-applicable":e});function pn(n,d){if(n&1&&(i(0,"option",34),r(1),t()),n&2){let e=d.$implicit;c("value",e.id),l(),h(e.name)}}function gn(n,d){if(n&1&&(i(0,"option",34),r(1),t()),n&2){let e=d.$implicit;c("value",e),l(),h(e)}}function fn(n,d){if(n&1&&(i(0,"option",34),r(1),t()),n&2){let e=d.$implicit;c("value",e),l(),h(e)}}function _n(n,d){if(n&1){let e=k();D(0),i(1,"tr",35)(2,"td",36),r(3),t(),i(4,"td",36),r(5),t(),i(6,"td",36),r(7),t(),i(8,"td",36),r(9),t(),i(10,"td",36),r(11),t(),i(12,"td",36),r(13),t(),i(14,"td",36),r(15),t(),i(16,"td",36),r(17),t(),i(18,"td",37),r(19),t(),i(20,"td",37),r(21),t(),i(22,"td",38)(23,"a",39),b("click",function(){let a=S(e).$implicit,s=g();return y(s.openStudent(a))}),r(24,"View"),t()()(),B()}if(n&2){let e=d.$implicit,o=g();l(3),h(e.id),l(2),h(e.name),l(2),h(e.age),l(2),h(e.gender),l(2),h(e.contact.email),l(2),h(e.contact.phone),l(2),h(e.course.name),l(2),h(o.getBatchName(e.course.batchName)),l(),c("ngClass",Te(12,mn,(e.course.status==null?null:e.course.status.toString())==="completed",(e.course.status==null?null:e.course.status.toString())==="in-progress",(e.course.status==null?null:e.course.status.toString())==="not-started")),l(),F(" ",e.course.status," "),l(),c("ngClass",Te(16,un,(e.course.certification==null||e.course.certification.certificationStatus==null?null:e.course.certification.certificationStatus.toString())==="Certified",(e.course.certification==null||e.course.certification.certificationStatus==null?null:e.course.certification.certificationStatus.toString())==="Pending",(e.course.certification==null||e.course.certification.certificationStatus==null?null:e.course.certification.certificationStatus.toString())==="Not applicable")),l(),F(" ",e.course.certification==null?null:e.course.certification.certificationStatus," ")}}var gt=(()=>{class n{constructor(e,o,a){this.firebaseService=e,this.activatedRoute=o,this.fb=a,this.createStudentModal=!1,this.allStudents=[],this.filteredStudents=[],this.courseStatus=Object.values(q),this.certificationStatus=Object.values(U),this.subscriptions=new A,this.courses=[],this.availableBatches=[],this.filterForm=this.fb.group({id:[""],name:[""],email:[""],phone:[""],courseName:[""],batchName:[""],courseStatus:[""],certificationStatus:[""]})}ngOnInit(){this.loadAllCourses(),this.loadAllStudents(),this.loadParams(),this.filterFormChange(),this.loadAllBatches()}loadAllBatches(){this.subscriptions.add(this.firebaseService.getAllFromCollection(E.batches).subscribe(e=>{this.availableBatches=e}))}getBatchName(e){if(!e)return"N/A";let o=this.availableBatches.find(a=>a.id===e);return o?o.name:"N/A"}filterFormChange(){let e=this.filterForm.valueChanges.subscribe(()=>{this.filterStudentsOnChange()});this.subscriptions.add(e)}filterStudentsOnChange(){let e=this.filterForm.value,o=this.allStudents;Object.keys(e).forEach(a=>{let s=""+e[a];if(s)switch(a){case"id":o=o.filter(m=>m.id?.toLowerCase().startsWith(s.trim().toLowerCase()));break;case"name":o=o.filter(m=>m.name?.toLowerCase().startsWith(s.trim().toLowerCase()));break;case"email":o=o.filter(m=>m.contact.email?.toLowerCase().startsWith(s.trim().toLowerCase()));break;case"phone":o=o.filter(m=>m.contact.phone?.toLowerCase().startsWith(s.trim().toLowerCase()));break;case"courseName":o=o.filter(m=>m.course.name?.toLowerCase().startsWith(s.trim().toLowerCase())||m.course.customName?.toLowerCase().startsWith(s.trim().toLowerCase()));break;case"batchName":o=o.filter(m=>m.course.batchName===s);break;case"courseStatus":o=o.filter(m=>m.course.status===s);break;case"certificationStatus":o=o.filter(m=>m.course.certification?.certificationStatus===s);break}}),this.filteredStudents=o}loadAllCourses(){this.subscriptions.add(this.firebaseService.getAllFromCollection(E.coursePackages,"title").subscribe(e=>{this.courses=e}))}loadParams(){this.subscriptions.add(this.activatedRoute.queryParams.subscribe(e=>{e.enquiryId&&this.firebaseService.getFromCollectionById(E.enquiries,e.enquiryId).subscribe(o=>{this.openStudent(this.loadStudentWithEnquiry(o))})}))}loadStudentWithEnquiry(e){let o={name:e.fullName,age:e.age,contact:{email:e.email,phone:e.contactNumber}};(e.packageName===void 0||e.packageName===null)&&(o.course={name:"CUSTOM",technology:e.technologies});let a=this.courses.find(s=>s.title===e.packageName);return a&&(o.course={name:a.title,defaultDuration:a.durationInMonth,technology:a.allTechItems,price:a.discountPrice}),o}openStudent(e){this.selectedStudent=e,this.createStudentModal=!0}closeStudentModal(){this.createStudentModal=!1,this.selectedStudent=void 0}loadAllStudents(){this.subscriptions.add(this.firebaseService.getAllFromCollection(E.students,"id").subscribe(e=>{this.allStudents=e.sort((o,a)=>(o?.course?.enrollmentDate??1)<(a?.course?.enrollmentDate??0)?-1:1),this.filteredStudents=this.allStudents}))}ngOnDestroy(){this.subscriptions.unsubscribe()}static{this.\u0275fac=function(o){return new(o||n)(O(G),O(We),O(ne))}}static{this.\u0275cmp=j({type:n,selectors:[["app-students"]],decls:80,vars:7,consts:[[1,"flex","flex-col","gap-2","absolute","left-0","px-10","w-full","-mt-6"],[1,"border","border-primary","rounded-lg","px-4","py-2"],[1,"text-base","font-semibold","text-primary","px-2"],[1,"flex","flex-row","justify-start","flex-wrap","gap-4","form-group",3,"formGroup"],[1,"flex","flex-col","gap-1"],["for","idFilter"],["id","idFilter","type","text","formControlName","id",1,"form-control","border","border-1","border-primary","rounded-lg","px-4","py-1","text-xs","font-poppins"],["for","nameFilter"],["id","nameFilter","type","text","formControlName","name",1,"form-control","border","border-1","border-primary","rounded-lg","px-4","py-1","text-xs","font-poppins"],["for","emailFilter"],["id","emailFilter","type","text","formControlName","email",1,"form-control","border","border-1","border-primary","rounded-lg","px-4","py-1","text-xs","font-poppins"],["for","phoneFilter"],["id","phoneFilter","type","text","formControlName","phone",1,"form-control","border","border-1","border-primary","rounded-lg","px-4","py-1","text-xs","font-poppins"],["for","courseNameFilter"],["id","courseNameFilter","type","text","formControlName","courseName",1,"form-control","border","border-1","border-primary","rounded-lg","px-4","py-1","text-xs","font-poppins"],["for","batchNameFilter"],["id","batchNameFilter","formControlName","batchName",1,"form-control","border","border-1","border-primary","rounded-lg","px-4","py-1","text-xs","font-poppins"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","courseStatusFilter"],["id","courseStatusFilter","formControlName","courseStatus",1,"form-control","border","border-1","border-primary","rounded-lg","px-4","py-1","text-xs","font-poppins"],["for","certificationStatusFilter"],["id","certificationStatusFilter","formControlName","certificationStatus",1,"form-control","border","border-1","border-primary","rounded-lg","px-4","py-1","text-xs","font-poppins"],[1,"flex","flex-row","w-full","justify-center","border","border-primary","rounded-lg"],[1,"w-full","text-sm","text-left","rtl:text-right","text-gray-500","dark:text-gray-400","rounded-lg"],[1,"text-lg","font-semibold","text-gray-900","dark:text-white","bg-gray-50","dark:bg-gray-800","px-4","py-1","text-left","rounded-lg"],[1,"flex","flex-row","gap-6","items-center","h-10","justify-between"],[1,"button-primary-xs",3,"click"],[1,"text-xs","text-gray-700","uppercase","bg-gray-50","dark:bg-gray-700","dark:text-gray-400"],[1,"table-row"],["scope","col",1,"px-6","py-3","text-primary"],[1,""],[4,"ngFor","ngForOf"],[3,"onClose","isOpen","SelectedStudent"],[3,"value"],[1,"py-2","h-5","text-xs","font-poppins","bg-white","border-b","dark:bg-gray-800","dark:border-gray-700","text-text","hover:outline","hover:outline-1","hover:outline-black","hover:bg-yellow-50"],[1,"px-6"],[1,"px-6",3,"ngClass"],[1,"px-6","text-center"],[1,"text-blue","underline","underline-offset-2","cursor-pointer",3,"click"]],template:function(o,a){o&1&&(i(0,"div",0)(1,"fieldset",1)(2,"legend",2),r(3,"Filter"),t(),i(4,"form",3)(5,"div",4)(6,"label",5),r(7,"Id"),t(),f(8,"input",6),t(),i(9,"div",4)(10,"label",7),r(11,"Name"),t(),f(12,"input",8),t(),i(13,"div",4)(14,"label",9),r(15,"Email"),t(),f(16,"input",10),t(),i(17,"div",4)(18,"label",11),r(19,"Phone"),t(),f(20,"input",12),t(),i(21,"div",4)(22,"label",13),r(23,"Course Name"),t(),f(24,"input",14),t(),i(25,"div",4)(26,"label",15),r(27,"Batch Name"),t(),i(28,"select",16)(29,"option",17),r(30,"All"),t(),u(31,pn,2,2,"option",18),t()(),i(32,"div",4)(33,"label",19),r(34,"Course Status"),t(),i(35,"select",20)(36,"option",17),r(37,"All"),t(),u(38,gn,2,2,"option",18),t()(),i(39,"div",4)(40,"label",21),r(41,"Certification Status"),t(),i(42,"select",22)(43,"option",17),r(44,"All"),t(),u(45,fn,2,2,"option",18),t()()()(),i(46,"div",23)(47,"table",24)(48,"caption",25)(49,"div",26)(50,"span"),r(51,"Student List"),t(),i(52,"button",27),b("click",function(){return a.createStudentModal=!0}),r(53,"+ Create Student"),t()()(),i(54,"thead",28)(55,"tr",29)(56,"th",30),r(57,"Id"),t(),i(58,"th",30),r(59,"Name"),t(),i(60,"th",30),r(61,"Age"),t(),i(62,"th",30),r(63,"Gender"),t(),i(64,"th",30),r(65,"Email"),t(),i(66,"th",30),r(67,"Phone"),t(),i(68,"th",30),r(69,"Course Name"),t(),i(70,"th",30),r(71,"Batch Name"),t(),i(72,"th",30),r(73,"Course Status"),t(),i(74,"th",30),r(75,"Certification Status"),t(),f(76,"th",30),t()(),i(77,"tbody",31),u(78,_n,25,20,"ng-container",32),t()()()(),i(79,"app-create-student-modal",33),b("onClose",function(){return a.closeStudentModal()}),t()),o&2&&(l(4),c("formGroup",a.filterForm),l(27),c("ngForOf",a.availableBatches),l(7),c("ngForOf",a.courseStatus),l(7),c("ngForOf",a.certificationStatus),l(33),c("ngForOf",a.filteredStudents),l(),c("isOpen",a.createStudentModal)("SelectedStudent",a.selectedStudent))},dependencies:[He,L,Y,ee,te,K,X,R,J,Z,Q,pt],styles:[".certification-certified[_ngcontent-%COMP%]{background-color:#d4edda;color:#155724}.certification-pending[_ngcontent-%COMP%]{background-color:#fff3cd;color:#856404}.certification-not-applicable[_ngcontent-%COMP%]{background-color:#e2e3e5;color:#383d41}.course-completed[_ngcontent-%COMP%]{background-color:#cce5ff;color:#004085}.course-in-progress[_ngcontent-%COMP%]{background-color:#fffbe6;color:#856404}.course-not-started[_ngcontent-%COMP%]{background-color:#f8d7da;color:#721c24}"]})}}return n})();var ue=(n,d)=>{let e=qe(tt);return nt(e).pipe(Be(1),De(o=>o?!0:(window.alert("You must be logged in to access this page"),!1)))};function hn(n,d){if(n&1){let e=k();i(0,"label",15)(1,"input",16),$e("ngModelChange",function(a){let s=S(e).$implicit,m=g();return Re(m.selectedStatuses[s],a)||(m.selectedStatuses[s]=a),y(a)}),t(),i(2,"span"),r(3),t()()}if(n&2){let e=d.$implicit,o=g();l(),c("value",e),Le("ngModel",o.selectedStatuses[e]),l(2),h(e)}}function xn(n,d){if(n&1){let e=k();D(0),i(1,"tr",17)(2,"td",18),r(3),t(),i(4,"td",18),r(5),t(),i(6,"td",18),r(7),t(),i(8,"td",18),r(9),t(),i(10,"td",18),r(11),t(),i(12,"td",18),r(13),Ge(14,"timestampPipe"),t(),i(15,"td",18),r(16),t(),i(17,"td",18),r(18),t(),i(19,"td",18),r(20),t(),i(21,"td",18),r(22),t(),i(23,"td",18),r(24),t(),i(25,"td",19)(26,"a",20),b("click",function(){let a=S(e).$implicit,s=g();return y(s.viewEnquiry(a))}),r(27,"View"),t(),i(28,"a",21),b("click",function(){let a=S(e).$implicit,s=g();return y(s.confirmEnquiry(a))}),r(29,"Confirm"),t(),i(30,"a",22),b("click",function(){let a=S(e).$implicit,s=g();return y(s.cancelEnquiry(a))}),r(31,"Cancel"),t()()(),B()}if(n&2){let e=d.$implicit;l(),je(e.status),l(2),h(e.id),l(2),h(e.fullName),l(2),h(e.age),l(2),h(e.email),l(2),h(e.contactNumber),l(2),h(ze(14,13,e.createdDate)),l(3),h(e.packageName),l(2),h(e.technologies.join(", ")),l(2),h(e.enquiryPrice),l(2),h(e.status),l(2),h(e.notes)}}var ft=(()=>{class n{constructor(e,o){this.firebaseService=e,this.router=o,this.loading=!1,this.enquiries=[],this.enquiryStatus=Object.values($),this.selectedStatuses={[$.pending]:!0,[$.confirmed]:!0,[$.cancelled]:!0,[$.contacted]:!0},this.subscription=new A}ngOnInit(){this.getEnquiries()}get filteredEnquiries(){return this.enquiries.filter(e=>this.selectedStatuses[e.status||$.pending])}removeEnquiry(e){if(!e||!e.id){console.error("Invalid enquiry data:",e);return}if(confirm(`Are you sure you want to delete the enquiry from ${e.fullName}?`)){this.loading=!0;let o=I(this.firebaseService.deleteData(E.enquiries,e.id)).subscribe(()=>{this.enquiries=this.enquiries.filter(a=>a.id!==e.id),this.loading=!1},a=>{console.error("Error deleting enquiry:",a),this.loading=!1});this.subscription.add(o)}}cancelEnquiry(e){let o=window.prompt("Reason for cancellation:");if(!o){window.alert("Cancellation reason is required.");return}e.notes=o,e.status=$.cancelled,this.updateEnquiry(e)}viewEnquiry(e){let o=window.prompt("Message / updates:");if(!o){window.alert("message is required.");return}e.notes=o,e.status=$.contacted,this.updateEnquiry(e)}confirmEnquiry(e){window.confirm(`Are you sure you want to confirm the enquiry from ${e.fullName}?`)&&(e.status=$.confirmed,this.updateEnquiry(e),this.router.navigate(["/admin/students"],{queryParams:{enquiryId:e.id}}))}updateEnquiry(e){if(!e||!e.id){console.error("Invalid enquiry data:",e);return}this.loading=!0;let o=I(this.firebaseService.updateData(E.enquiries,e.id,e)).subscribe(()=>{let a=this.enquiries.findIndex(s=>s.id===e.id);a!==-1&&(this.enquiries[a]=e),this.loading=!1},a=>{console.error("Error updating enquiry:",a),this.loading=!1});this.subscription.add(o)}getEnquiries(){this.loading=!0;let e=this.firebaseService.getAllFromCollection(E.enquiries,"id").subscribe(o=>{this.enquiries=o,this.loading=!1},o=>{console.error("Error fetching enquiries:",o),this.loading=!1});this.subscription.add(e)}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(o){return new(o||n)(O(G),O(Ke))}}static{this.\u0275cmp=j({type:n,selectors:[["app-enquiry"]],decls:40,vars:3,consts:[[1,"flex","flex-col","gap-6","absolute","left-0","px-10","w-full"],[1,"flex","flex-row","w-full","justify-center","border","border-primary","rounded-lg"],[1,"w-full","text-sm","text-left","rtl:text-right","text-gray-500","dark:text-gray-400","rounded-lg"],[1,"text-lg","font-semibold","text-gray-900","dark:text-white","bg-gray-50","dark:bg-gray-800","p-4","text-left","rounded-lg"],[1,"flex","flex-row","justify-between"],[1,"flex","flex-row","gap-6","align-middle","h-10","items-center"],[1,"text-gray-500","text-sm"],[1,"flex","flex-row","gap-6"],[1,"flex","flex-row","gap-4","items-center"],["class","flex flex-row items-center gap-1",4,"ngFor","ngForOf"],[1,"text-xs","text-gray-700","uppercase","bg-gray-50","dark:bg-gray-700","dark:text-gray-400"],[1,"table-row"],["scope","col",1,"px-6","py-3","text-primary"],[1,""],[4,"ngFor","ngForOf"],[1,"flex","flex-row","items-center","gap-1"],["type","checkbox",1,"accent-primary",3,"ngModelChange","value","ngModel"],[1,"bg-white","border-b","dark:bg-gray-800","dark:border-gray-700","text-text","status"],[1,"px-6","py-4"],[1,"px-6","py-4","text-center","flex","flex-row","gap-2"],[1,"text-","underline","underline-offset-2","cursor-pointer",3,"click"],[1,"text-black","underline","underline-offset-2","cursor-pointer",3,"click"],[1,"text-red-500","underline","underline-offset-2","cursor-pointer",3,"click"]],template:function(o,a){o&1&&(i(0,"div",0)(1,"div",1)(2,"table",2)(3,"caption",3)(4,"div",4)(5,"div",5)(6,"span"),r(7,"Enquiry List"),t(),i(8,"span",6),r(9),t()(),i(10,"div",7)(11,"div",8),u(12,hn,4,3,"label",9),t()()()(),i(13,"thead",10)(14,"tr",11)(15,"th",12),r(16,"Id"),t(),i(17,"th",12),r(18,"Name"),t(),i(19,"th",12),r(20,"Age"),t(),i(21,"th",12),r(22,"Email"),t(),i(23,"th",12),r(24,"Phone"),t(),i(25,"th",12),r(26,"Date"),t(),i(27,"th",12),r(28,"Package Name"),t(),i(29,"th",12),r(30,"Technologies"),t(),i(31,"th",12),r(32,"Enquiry Price"),t(),i(33,"th",12),r(34,"Status"),t(),i(35,"th",12),r(36,"Notes"),t(),f(37,"th",12),t()(),i(38,"tbody",13),u(39,xn,32,15,"ng-container",14),t()()()()),o&2&&(l(9),F("Total Enquiries: ",a.enquiries.length,""),l(3),c("ngForOf",a.enquiryStatus),l(27),c("ngForOf",a.filteredEnquiries))},dependencies:[L,_e,R,Je,it],styles:[".status.pending[_ngcontent-%COMP%]{background-color:#ffe082}.status.contacted[_ngcontent-%COMP%]{background-color:#b3e5fc}.status.cancelled[_ngcontent-%COMP%]{background-color:#ffcdd2}.status.confirmed[_ngcontent-%COMP%]{background-color:#c8e6c9}"]})}}return n})();function bn(n,d){if(n&1){let e=k();D(0),i(1,"tr",16)(2,"td",17),r(3),t(),i(4,"td",17),r(5),t(),i(6,"td",17),r(7),t(),i(8,"td",17),r(9),t(),i(10,"td",17),r(11),t(),i(12,"td",17),r(13),t(),i(14,"td",18)(15,"a",19),b("click",function(){let a=S(e).$implicit,s=g(2);return y(s.viewCourse(a))}),r(16,"View"),t()()(),B()}if(n&2){let e=d.$implicit;l(3),h(e.index),l(2),h(e.title),l(2),h(e.description),l(2),h(e.regularPrice),l(2),h(e.discountPrice),l(2),h(e.durationInMonth)}}function vn(n,d){if(n&1){let e=k();i(0,"table",5)(1,"caption",6)(2,"div",7)(3,"div",8)(4,"span"),r(5,"Package List"),t(),i(6,"span",9),r(7),t(),i(8,"button",10),b("click",function(){S(e);let a=g();return y(a.createNewPackage())}),r(9,"Create new package"),t()()()(),i(10,"thead",11)(11,"tr",12)(12,"th",13),r(13,"Index"),t(),i(14,"th",13),r(15,"Title"),t(),i(16,"th",13),r(17,"Description"),t(),i(18,"th",13),r(19,"Regular Price"),t(),i(20,"th",13),r(21,"Discounted Price"),t(),i(22,"th",13),r(23,"Duration"),t(),f(24,"th",13),t()(),i(25,"tbody",14),u(26,bn,17,6,"ng-container",15),t()()}if(n&2){let e=g();l(7),F("Total Packages: ",e.packages.length,""),l(19),c("ngForOf",e.packages)}}function Cn(n,d){n&1&&(i(0,"h3",43),r(1,"Create Package"),t())}function Sn(n,d){n&1&&(i(0,"h3",43),r(1,"Update Package"),t())}function yn(n,d){n&1&&(i(0,"div",44),r(1," Index is required and must be 0 or greater. "),t())}function En(n,d){n&1&&(i(0,"div",44),r(1," Title is required. "),t())}function kn(n,d){n&1&&(i(0,"div",44),r(1," Regular price is required and must be 0 or greater. "),t())}function Pn(n,d){n&1&&(i(0,"div",44),r(1," Discounted price is required and must be 0 or greater. "),t())}function wn(n,d){n&1&&(i(0,"div",44),r(1," Duration is required and must be at least 1 month. "),t())}function Mn(n,d){n&1&&(i(0,"div",44),r(1," Description is required. "),t())}function On(n,d){if(n&1&&(i(0,"div",45)(1,"span",46),r(2),t()()),n&2){let e,o=g(2);l(2),F(" ",(e=o.packageForm.get("allTechItems"))==null||e.value==null?null:e.value.join(", ")," ")}}function Fn(n,d){if(n&1&&f(0,"app-dropdown",55),n&2){let e=g(3);c("items",e.availableTechnologies)("multiselect",!0)}}function Tn(n,d){if(n&1&&f(0,"app-dropdown",56),n&2){let e=g(3);c("items",e.packages)("multiselect",!0)}}function In(n,d){n&1&&(i(0,"select",57)(1,"option",58),r(2,"None"),t(),i(3,"option",59),r(4,"+"),t(),i(5,"option",60),r(6,"/"),t()())}function Nn(n,d){if(n&1){let e=k();i(0,"div",47)(1,"label",48)(2,"input",49),b("ngModelChange",function(){let a=S(e).$implicit,s=g(2);return y(s.resetTechs(a))}),t(),i(3,"span"),r(4,"Is Package"),t()(),u(5,Fn,1,2,"app-dropdown",50)(6,Tn,1,2,"app-dropdown",51)(7,In,7,0,"select",52),i(8,"button",53),b("click",function(){let a=S(e).index,s=g(2);return y(s.technologies.removeAt(a))}),r(9,"-Remove"),t(),i(10,"span",54),r(11),t()()}if(n&2){let e,o,a,s=d.$implicit,m=d.index,v=g(2);c("formGroupName",m),l(5),c("ngIf",!((e=s.get("isPackage"))!=null&&e.value)),l(),c("ngIf",(o=s.get("isPackage"))==null?null:o.value),l(),c("ngIf",((a=s.get("techs"))==null||a.value==null?null:a.value.length)>1||((a=s.get("packages"))==null||a.value==null?null:a.value.length)>1),l(4),h(v.getTechString(s))}}function Vn(n,d){if(n&1){let e=k();i(0,"button",61),b("click",function(){S(e);let a=g(2);return y(a.deletePackage())}),r(1," Delete Package "),t()}}function Dn(n,d){if(n&1){let e=k();i(0,"div",20)(1,"div",21)(2,"div",22),u(3,Cn,2,0,"h3",23)(4,Sn,2,0,"h3",23),i(5,"button",24),b("click",function(){S(e);let a=g();return y(a.closeCourse())}),r(6," \xD7 "),t()(),f(7,"app-loader",2),i(8,"form",25)(9,"div",26)(10,"div")(11,"label",27),r(12,"Index"),t(),f(13,"input",28),u(14,yn,2,0,"div",29),t(),i(15,"div")(16,"label",27),r(17,"Title"),t(),f(18,"input",30),u(19,En,2,0,"div",29),t(),i(20,"div")(21,"label",27),r(22,"Regular Price"),t(),f(23,"input",31),u(24,kn,2,0,"div",29),t()(),i(25,"div",26)(26,"div")(27,"label",27),r(28,"Discounted Price"),t(),f(29,"input",32),u(30,Pn,2,0,"div",29),t(),i(31,"div")(32,"label",27),r(33,"Duration (Months)"),t(),f(34,"input",33),u(35,wn,2,0,"div",29),t(),i(36,"div")(37,"label",27),r(38,"Description"),t(),f(39,"input",34),u(40,Mn,2,0,"div",29),t()(),u(41,On,3,1,"div",35),i(42,"div")(43,"label",27),r(44,"Technologies"),t(),i(45,"div",36),u(46,Nn,12,5,"div",37),i(47,"button",38),b("click",function(){S(e);let a=g();return y(a.addTechnology())}),r(48,"Add Technology"),t()()(),i(49,"div",39)(50,"button",40),b("click",function(){S(e);let a=g();return y(a.onSubmit())}),r(51),t(),u(52,Vn,2,0,"button",41),i(53,"button",42),b("click",function(){S(e);let a=g();return y(a.closeCourse())}),r(54,"Cancel"),t()()()()()}if(n&2){let e,o,a,s,m,v,C,p=g();l(3),c("ngIf",!p.selectedPackage),l(),c("ngIf",p.selectedPackage),l(3),c("loading",p.packageProcessing),l(),W("hidden",p.packageProcessing),c("formGroup",p.packageForm),l(6),c("ngIf",((e=p.packageForm.get("index"))==null?null:e.invalid)&&((e=p.packageForm.get("index"))==null?null:e.touched)),l(5),c("ngIf",((o=p.packageForm.get("title"))==null?null:o.invalid)&&((o=p.packageForm.get("title"))==null?null:o.touched)),l(5),c("ngIf",((a=p.packageForm.get("regularPrice"))==null?null:a.invalid)&&((a=p.packageForm.get("regularPrice"))==null?null:a.touched)),l(6),c("ngIf",((s=p.packageForm.get("discountPrice"))==null?null:s.invalid)&&((s=p.packageForm.get("discountPrice"))==null?null:s.touched)),l(5),c("ngIf",((m=p.packageForm.get("durationInMonth"))==null?null:m.invalid)&&((m=p.packageForm.get("durationInMonth"))==null?null:m.touched)),l(5),c("ngIf",((v=p.packageForm.get("description"))==null?null:v.invalid)&&((v=p.packageForm.get("description"))==null?null:v.touched)),l(),c("ngIf",(C=p.packageForm.get("allTechItems"))==null||C.value==null?null:C.value.length),l(5),c("ngForOf",p.technologies.controls),l(5),F(" ",p.selectedPackage?"Update":"Create"," Package "),l(),c("ngIf",!!p.selectedPackage)}}var _t=(()=>{class n{constructor(e,o){this.firebaseService=e,this.fb=o,this.loading=!0,this.packages=[],this.isOpen=!1,this.subscription=new A,this.availableTechnologies=[],this.packageProcessing=!1,this.packageForm=this.fb.group({index:[null,[_.required,_.min(0)]],title:[null,_.required],description:[null,_.required],regularPrice:[null,[_.required,_.min(0)]],discountPrice:[null,[_.required,_.min(0)]],durationInMonth:[null,[_.required,_.min(1)]],allTechItems:[[]],technologies:this.fb.array([])})}get technologies(){return this.packageForm.get("technologies")}addTechnology(e){this.technologies.push(this.fb.group({techs:[[]],packages:[[]],isPackage:[e?.isPackage||!1],combinationBy:[e?.combinationBy||""]}))}removeTechnology(e){this.technologies.removeAt(e)}ngOnInit(){this.fetchPackages()}createNewPackage(){this.isOpen=!0,this.selectedPackage=void 0,this.packageForm.reset(),this.technologies.clear(),this.packageForm.setControl("technologies",this.fb.array([])),this.packageForm.patchValue({index:this.packages.length+1,title:null,description:null,regularPrice:null,discountPrice:null,durationInMonth:null,allTechItems:[]}),this.packageForm.updateValueAndValidity(),this.addTechnology()}viewCourse(e){this.isOpen=!0,this.selectedPackage=e,this.packageForm.reset(),this.technologies.clear();let o=e.technologies||[];o.forEach(a=>{if(a.isPackage){let s=[];a.name.forEach(m=>{let v=this.packages.find(C=>C.title===m);v&&s.push(v)}),this.technologies.push(this.fb.group({packages:[s],techs:[[]],isPackage:[!0],combinationBy:[a.combinationBy||""]}))}else this.technologies.push(this.fb.group({techs:[a.name],packages:[[]],isPackage:[!1],combinationBy:[a.combinationBy||""]}))}),this.packageForm.patchValue({index:e.index,title:e.title,description:e.description,regularPrice:e.regularPrice,discountPrice:e.discountPrice,durationInMonth:e.durationInMonth,allTechItems:e.allTechItems||[],technologies:o}),this.packageForm.updateValueAndValidity()}closeCourse(){this.selectedPackage=void 0,this.technologies.clear(),this.isOpen=!1}getTechString(e){return e.get("isPackage")?.value?`${e.get("packages")?.value?.map(o=>o.title)?.join(" "+e.get("combinationBy")?.value+" ")}`:`${e.get("techs")?.value?.join(" "+e.get("combinationBy")?.value+" ")}`}resetTechs(e){e.get("packages")?.setValue([]),e.get("techs")?.setValue([]),e.updateValueAndValidity()}deletePackage(){if(!this.selectedPackage)return;let e=this.selectedPackage.id;e&&confirm("Are you sure you want to delete this package?")&&(this.packageProcessing=!0,this.subscription.add(I(this.firebaseService.deleteData(E.coursePackages,e)).subscribe({next:()=>{window.alert("Package deleted successfully"),this.selectedPackage=void 0,this.technologies.clear(),this.packageForm.reset(),this.packageProcessing=!1,this.isOpen=!1,this.fetchPackages()},error:o=>{this.packageProcessing=!1,window.alert("Error deleting package:")}})))}onSubmit(){if(this.packageForm.invalid){this.packageForm.markAllAsTouched();return}this.packageProcessing=!0;let e=this.packageForm.value,o={index:e.index,title:e.title,description:e.description,regularPrice:e.regularPrice,discountPrice:e.discountPrice,durationInMonth:e.durationInMonth,allTechItems:e.allTechItems||[]},a=[],s=new Set;e.technologies.forEach(m=>{if(m.isPackage){let v={name:m.packages.map(C=>C.title),isPackage:!0,combinationBy:m.combinationBy,iconUrl:[]};m.packages.forEach(C=>{C.allTechItems.forEach(p=>{s.add(p)})}),a.push(v)}else{let v={name:m.techs,isPackage:!1,combinationBy:m.combinationBy,iconUrl:[]};m.techs.forEach(C=>{s.add(C)}),a.push(v)}}),o.technologies=a,o.allTechItems=Array.from(s),this.subscription.add(I(this.firebaseService.saveNewData(E.coursePackages,o)).subscribe({next:()=>{window.alert("Package created successfully"),this.fetchPackages(),this.packageProcessing=!1,this.isOpen=!1},error:m=>{window.alert("Error creating package:"),this.packageProcessing=!1}}))}loadAllTechnologies(){let e=new Set;this.packages.forEach(o=>{o.allTechItems.forEach(a=>{e.add(a)})}),this.availableTechnologies=Array.from(e)}fetchPackages(){this.loading=!0,this.subscription.add(this.firebaseService.getAllFromCollection(E.coursePackages).subscribe({next:e=>{console.log(e),this.packages=e.sort((o,a)=>o.index-a.index),this.loading=!1,this.loadAllTechnologies()},error:e=>{console.error("Error fetching packages:",e),this.loading=!1}}))}static{this.\u0275fac=function(o){return new(o||n)(O(G),O(ne))}}static{this.\u0275cmp=j({type:n,selectors:[["app-packages"]],decls:5,vars:3,consts:[[1,"flex","flex-col","gap-6","absolute","left-0","px-10","w-full"],[1,"flex","flex-row","w-full","justify-center","border","border-primary","rounded-lg","mb-32"],[3,"loading"],["class","w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400 rounded-lg",4,"ngIf"],["class","fixed inset-0 z-30 flex items-center justify-center bg-black bg-opacity-40 backdrop-blur-sm ",4,"ngIf"],[1,"w-full","text-sm","text-left","rtl:text-right","text-gray-500","dark:text-gray-400","rounded-lg"],[1,"text-lg","font-semibold","text-gray-900","dark:text-white","bg-gray-50","dark:bg-gray-800","p-4","text-left","rounded-lg"],[1,"flex","flex-row","justify-between"],[1,"flex","flex-row","gap-6","align-middle","h-10","items-center"],[1,"text-gray-500","text-sm"],[1,"button-primary-sm",3,"click"],[1,"text-xs","text-gray-700","uppercase","bg-gray-50","dark:bg-gray-700","dark:text-gray-400"],[1,"table-row"],["scope","col",1,"px-6","py-3","text-primary"],[1,""],[4,"ngFor","ngForOf"],[1,"bg-white","border-b","dark:bg-gray-800","dark:border-gray-700","text-text"],[1,"px-6","py-4"],[1,"px-6","py-4","text-center","flex","flex-row","gap-2"],[1,"text-","underline","underline-offset-2","cursor-pointer",3,"click"],[1,"fixed","inset-0","z-30","flex","items-center","justify-center","bg-black","bg-opacity-40","backdrop-blur-sm"],[1,"relative","z-40","bg-secondary","rounded-lg","shadow-lg","p-6","w-1/2","max-h-[85vh]","overflow-y-auto"],[1,"flex","flex-row","justify-between","w-full","bg-primary","py-3","px-5","text-white","rounded-lg","align-middle"],["class","text-lg font-semibold ",4,"ngIf"],["aria-label","Close",1,"text-3xl","font-semibold","cursor-pointer","hover:text-gray-300","transition-colors",3,"click"],[1,"mt-6","flex","flex-col","gap-6",3,"formGroup"],[1,"grid","grid-cols-3","gap-4"],[1,"block","mb-1","font-medium"],["type","number","formControlName","index","min","0","readonly","",1,"px-4","py-2","border","border-black","rounded-lg","w-full"],["class","text-red-500 text-xs",4,"ngIf"],["type","text","formControlName","title",1,"px-4","py-2","border","border-black","rounded-lg","w-full"],["type","number","formControlName","regularPrice","min","0",1,"px-4","py-2","border","border-black","rounded-lg","w-full"],["type","number","formControlName","discountPrice","min","0",1,"px-4","py-2","border","border-black","rounded-lg","w-full"],["type","number","formControlName","durationInMonth","min","1",1,"px-4","py-2","border","border-black","rounded-lg","w-full"],["formControlName","description","rows","3",1,"px-4","py-2","border","border-black","rounded-lg","w-full"],["class","bg-slate-300 px-4 py-2 border border-1 border-primary rounded-lg w-full",4,"ngIf"],["formArrayName","technologies",1,"flex","flex-col","w-full","gap-4"],["class","flex flex-row gap-4 items-center",3,"formGroupName",4,"ngFor","ngForOf"],["type","button",1,"button-primary-sm","mt-2","w-fit",3,"click"],[1,"flex","justify-end","gap-4","mt-4"],["type","submit",1,"button-primary-sm",3,"click"],["type","submit","class","button-primary-sm bg-red-500",3,"click",4,"ngIf"],["type","button",1,"button-secondary-sm",3,"click"],[1,"text-lg","font-semibold"],[1,"text-red-500","text-xs"],[1,"bg-slate-300","px-4","py-2","border","border-1","border-primary","rounded-lg","w-full"],[1,"text-primary","text-lg","font-outfit"],[1,"flex","flex-row","gap-4","items-center",3,"formGroupName"],[1,"flex","items-center","gap-1"],["type","checkbox","formControlName","isPackage",3,"ngModelChange"],["formControlName","techs",3,"items","multiselect",4,"ngIf"],["formControlName","packages","labelKey","title",3,"items","multiselect",4,"ngIf"],["formControlName","combinationBy","class","px-4 py-2 border border-black rounded-lg",4,"ngIf"],["type","button",1,"text-red-600","font-semibold","text-lg",3,"click"],[1,"text-gray-600"],["formControlName","techs",3,"items","multiselect"],["formControlName","packages","labelKey","title",3,"items","multiselect"],["formControlName","combinationBy",1,"px-4","py-2","border","border-black","rounded-lg"],["value",""],["value","+"],["value","/"],["type","submit",1,"button-primary-sm","bg-red-500",3,"click"]],template:function(o,a){o&1&&(i(0,"div",0)(1,"div",1),f(2,"app-loader",2),u(3,vn,27,2,"table",3),t()(),u(4,Dn,55,16,"div",4)),o&2&&(l(2),c("loading",a.loading),l(),c("ngIf",!a.loading),l(),c("ngIf",a.isOpen))},dependencies:[L,re,Y,ee,te,K,he,_e,X,R,J,Ye,Z,Q,ae,le,de,xe]})}}return n})();function Bn(n,d){if(n&1&&(i(0,"span"),r(1),f(2,"br"),t()),n&2){let e=d.$implicit;l(),F("",e," ")}}function qn(n,d){if(n&1){let e=k();D(0),i(1,"tr",12)(2,"td",13),r(3),t(),i(4,"td",13),r(5),t(),i(6,"td",13),r(7),t(),i(8,"td",13),r(9),t(),i(10,"td",13),r(11),t(),i(12,"td",13),r(13),t(),i(14,"td",13),r(15),t(),i(16,"td",13),u(17,Bn,3,1,"span",10),t(),i(18,"td",13),r(19),t(),i(20,"td",14)(21,"a",15),b("click",function(){let a=S(e).$implicit,s=g();return y(s.openBatch(a))}),r(22,"View"),t()()(),B()}if(n&2){let e=d.$implicit,o=g();l(3),h(e.id),l(2),h(e.name),l(2),h(e.instructorName),l(2),h(e.strength),l(2),h(e.startDate),l(2),h(e.endDate),l(2),h(e.status),l(2),c("ngForOf",o.getFormattedSchedule(e.weeklySchedule)),l(2),h(e.description)}}function An(n,d){n&1&&(i(0,"div",43),r(1," Id is required. "),t())}function jn(n,d){n&1&&(i(0,"div",43),r(1," Name is required. "),t())}function Ln(n,d){n&1&&(i(0,"div",43),r(1," Status is required. "),t())}function Rn(n,d){n&1&&(i(0,"div",43),r(1," Instructor is required. "),t())}function $n(n,d){n&1&&(i(0,"div",43),r(1," Start date is required. "),t())}function Gn(n,d){n&1&&(i(0,"div",43),r(1," End date is required. "),t())}function zn(n,d){n&1&&(i(0,"div",43),r(1," End date cannot be before start date. "),t())}function Hn(n,d){if(n&1&&(i(0,"option",51),r(1),t()),n&2){let e=d.$implicit;c("value",e),l(),h(e)}}function Un(n,d){n&1&&(i(0,"div",43),r(1," Day is required. "),t())}function Wn(n,d){n&1&&(i(0,"div",43),r(1," Start Time is required. "),t())}function Kn(n,d){n&1&&(i(0,"div",43),r(1," End Time is required. "),t())}function Jn(n,d){n&1&&(i(0,"div",43),r(1," End time cannot be before start time. "),t())}function Yn(n,d){if(n&1){let e=k();i(0,"button",52),b("click",function(){S(e);let a=g().index,s=g(2);return y(s.removeSchedule(a))}),r(1," - Remove"),t()}}function Zn(n,d){if(n&1&&(i(0,"div",44)(1,"div")(2,"select",45)(3,"option",46),r(4,"Select Day"),t(),u(5,Hn,2,2,"option",47),t(),u(6,Un,2,0,"div",27),t(),i(7,"div"),f(8,"input",48),u(9,Wn,2,0,"div",27),t(),i(10,"div"),f(11,"input",49),u(12,Kn,2,0,"div",27)(13,Jn,2,0,"div",27),t(),u(14,Yn,2,0,"button",50),t()),n&2){let e,o,a,s,m=d.$implicit,v=d.index,C=g(2);c("formGroupName",v),l(5),c("ngForOf",C.weekDays),l(),c("ngIf",((e=m.get("day"))==null?null:e.touched)&&((e=m.get("day"))==null?null:e.invalid)),l(3),c("ngIf",((o=m.get("startTime"))==null?null:o.touched)&&((o=m.get("startTime"))==null?null:o.invalid)),l(3),c("ngIf",((a=m.get("endTime"))==null?null:a.touched)&&((a=m.get("endTime"))==null?null:a.invalid)),l(),c("ngIf",(m.errors==null?null:m.errors.endTimeBeforeStartTime)&&(((s=m.get("endTime"))==null?null:s.touched)||((s=m.get("startTime"))==null?null:s.touched))),l(),c("ngIf",C.weeklySchedule.length>1)}}function Qn(n,d){if(n&1){let e=k();i(0,"button",53),b("click",function(){S(e);let a=g(2);return y(a.removeBatch())}),r(1,"Remove Batch"),t()}}function Xn(n,d){if(n&1){let e=k();i(0,"div",16)(1,"div",17)(2,"div",18)(3,"div",19)(4,"span",20),r(5),t(),i(6,"button",21),b("click",function(){S(e);let a=g();return y(a.showModal=!1)}),r(7,"\xD7"),t()(),i(8,"form",22)(9,"div",23)(10,"div",24)(11,"div",25)(12,"label"),r(13,"Id"),t(),f(14,"input",26),u(15,An,2,0,"div",27),t(),i(16,"div",28)(17,"label"),r(18,"Name"),t(),f(19,"input",29),u(20,jn,2,0,"div",27),t(),i(21,"div",25)(22,"label"),r(23,"Status"),t(),f(24,"input",30),u(25,Ln,2,0,"div",27),t()(),i(26,"div",24)(27,"div",28)(28,"label"),r(29,"Instructor"),t(),f(30,"input",31),u(31,Rn,2,0,"div",27),t(),i(32,"div",28)(33,"label"),r(34,"Start Date"),t(),f(35,"input",32),u(36,$n,2,0,"div",27),t(),i(37,"div",28)(38,"label"),r(39,"End Date"),t(),f(40,"input",33),u(41,Gn,2,0,"div",27)(42,zn,2,0,"div",27),t()(),i(43,"div",24)(44,"div",28)(45,"label"),r(46,"Description"),t(),f(47,"input",34),t()(),i(48,"div",28)(49,"div",35)(50,"label"),r(51,"Weekly Schedule "),t(),i(52,"button",36),b("click",function(){S(e);let a=g();return y(a.addSchedule())}),r(53,"+ Add Day "),t()(),i(54,"div",37),u(55,Zn,15,7,"div",38),t()()(),i(56,"div",39)(57,"button",40),b("click",function(){S(e);let a=g();return y(a.showModal=!1)}),r(58,"Cancel"),t(),i(59,"button",41),b("click",function(){S(e);let a=g();return y(a.onSubmit())}),r(60),t(),u(61,Qn,2,0,"button",42),t()()()()()}if(n&2){let e,o,a,s,m,v,C,p=g();l(5),F("",p.selectedBatch?"Update":"Create"," Batch"),l(3),c("formGroup",p.batchForm),l(7),c("ngIf",((e=p.batchForm.get("id"))==null?null:e.touched)&&((e=p.batchForm.get("id"))==null?null:e.invalid)),l(5),c("ngIf",((o=p.batchForm.get("name"))==null?null:o.touched)&&((o=p.batchForm.get("name"))==null?null:o.invalid)),l(5),c("ngIf",((a=p.batchForm.get("status"))==null?null:a.touched)&&((a=p.batchForm.get("status"))==null?null:a.invalid)),l(6),c("ngIf",((s=p.batchForm.get("instructorName"))==null?null:s.touched)&&((s=p.batchForm.get("instructorName"))==null?null:s.invalid)),l(5),c("ngIf",((m=p.batchForm.get("startDate"))==null?null:m.touched)&&((m=p.batchForm.get("startDate"))==null?null:m.invalid)),l(5),c("ngIf",((v=p.batchForm.get("endDate"))==null?null:v.touched)&&((v=p.batchForm.get("endDate"))==null?null:v.invalid)),l(),c("ngIf",(p.batchForm.errors==null?null:p.batchForm.errors.endDateBeforeStartDate)&&(((C=p.batchForm.get("endDate"))==null?null:C.touched)||((C=p.batchForm.get("startDate"))==null?null:C.touched))),l(13),c("ngForOf",p.weeklySchedule.controls),l(5),h(p.selectedBatch?"Update":"Create"),l(),c("ngIf",p.selectedBatch)}}var ht=(()=>{class n{constructor(e,o){this.fb=e,this.fireBaseService=o,this.showModal=!1,this.weekDays=Object.values(et),this.batches=[],this.students=[],this.subscription=new A,this.batchForm=this.fb.group({id:[""],name:["",_.required],startDate:[null,_.required],endDate:[null],status:[null],instructorName:["",_.required],weeklySchedule:this.fb.array([this.fb.group({day:[null,_.required],startTime:["",_.required],endTime:["",_.required]},{validators:a=>{let s=a.get("startTime")?.value,m=a.get("endTime")?.value;return s&&m&&m<s?{endTimeBeforeStartTime:!0}:null}})]),description:[""]},{validators:a=>{let s=a.get("startDate")?.value,m=a.get("endDate")?.value;return s&&m&&new Date(m)<new Date(s)?{endDateBeforeStartDate:!0}:null}}),this.setStartDateChanges()}setStartDateChanges(){this.subscription.add(this.batchForm.get("startDate")?.valueChanges.subscribe(()=>{this.batchForm.patchValue({status:this.calculateBatchStatus()}),this.batchForm.updateValueAndValidity()}))}calculateBatchStatus(){let e=this.batchForm.get("startDate")?.value,o=this.batchForm.get("endDate")?.value,a=new Date;return e&&a<new Date(e)?be.notStarted:o&&a>new Date(o)?be.completed:be.inProgress}ngOnInit(){this.fetchBatches(),this.loadAllStudents()}loadAllStudents(){this.subscription.add(this.fireBaseService.getAllFromCollection(E.students).subscribe({next:e=>{this.students=e||[],this.batches.forEach(o=>{o.strength=this.getBatchStrength(o.id)})},error:e=>{console.error("Error fetching students:",e)}}))}getBatchStrength(e){let o=0;return this.students.forEach(a=>{a.course.batchName===e&&o++}),o}fetchBatches(){this.subscription.add(this.fireBaseService.getAllFromCollection(E.batches).subscribe({next:e=>{this.batches=e||[]},error:e=>{console.error("Error fetching batches:",e)}}))}get weeklySchedule(){return this.batchForm.get("weeklySchedule")}addSchedule(e={day:null,startTime:"",endTime:""}){this.weeklySchedule.push(this.fb.group({day:[e?.day??null,_.required],startTime:[e?.startTime??"",_.required],endTime:[e?.endTime??"",_.required]}))}removeSchedule(e){this.weeklySchedule.removeAt(e)}onSubmit(){if(this.batchForm.valid){let e=pe(T({},this.batchForm.value),{id:this.batchForm.value.id||this.fireBaseService.generateId()});this.selectedBatch?this.subscription.add(I(this.fireBaseService.updateData(E.batches,this.selectedBatch.id,e)).subscribe({next:o=>{window.alert("Batch updated successfully")},error:o=>{window.alert("Failed to update batch")}})):this.subscription.add(I(this.fireBaseService.saveNewData(E.batches,e)).subscribe({next:o=>{window.alert("Batch added successfully")},error:o=>{window.alert("Failed to add batch")}})),this.showModal=!1}else this.batchForm.markAllAsTouched()}openBatchModal(){this.showModal=!0,this.batchForm.reset()}openBatch(e){this.selectedBatch=e,this.batchForm.patchValue(e),this.weeklySchedule.clear(),e.weeklySchedule.forEach(o=>{this.addSchedule(o)}),this.batchForm.updateValueAndValidity(),this.showModal=!0}getFormattedSchedule(e){return e.map(o=>`${o.day} (${o.startTime} - ${o.endTime})`)}removeBatch(){this.selectedBatch&&confirm(`Are you sure you want to delete the batch: ${this.selectedBatch?.name}?`)&&this.subscription.add(I(this.fireBaseService.deleteData(E.batches,this.selectedBatch?.id)).subscribe({next:()=>{window.alert("Batch deleted successfully"),this.fetchBatches(),this.selectedBatch=void 0,this.showModal=!1},error:e=>{window.alert("Failed to delete batch")}}))}ngOnDestroy(){this.subscription.unsubscribe(),this.selectedBatch=void 0,this.showModal=!1}static{this.\u0275fac=function(o){return new(o||n)(O(ne),O(G))}}static{this.\u0275cmp=j({type:n,selectors:[["app-batch"]],decls:33,vars:2,consts:[[1,"flex","flex-col","gap-2","absolute","left-0","px-10","w-full","-mt-6"],[1,"flex","flex-row","w-full","justify-center","border","border-primary","rounded-lg"],[1,"w-full","text-sm","text-left","rtl:text-right","text-gray-500","dark:text-gray-400","rounded-lg"],[1,"text-lg","font-semibold","text-gray-900","dark:text-white","bg-gray-50","dark:bg-gray-800","px-4","py-1","text-left","rounded-lg"],[1,"flex","flex-row","gap-6","items-center","h-10","justify-between"],[1,"button-primary-xs",3,"click"],[1,"text-xs","text-gray-700","uppercase","bg-gray-50","dark:bg-gray-700","dark:text-gray-400"],[1,"table-row"],["scope","col",1,"px-6","py-3","text-primary"],[1,""],[4,"ngFor","ngForOf"],["class","modal",4,"ngIf"],[1,"py-2","h-5","text-xs","font-poppins","bg-white","border-b","dark:bg-gray-800","dark:border-gray-700","text-text","hover:outline","hover:outline-1","hover:outline-black","hover:bg-yellow-50"],[1,"px-6","py-3","text-text"],[1,"px-6","text-center"],[1,"text-blue","underline","underline-offset-2","cursor-pointer",3,"click"],[1,"modal"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["aria-label","Close",1,"close",3,"click"],[3,"formGroup"],[1,"modal-body"],[1,"grid","grid-cols-3","gap-8"],[1,"form-group","pointer-events-none"],["formControlName","id","readonly","",1,"bg-slate-300"],["class","error-message",4,"ngIf"],[1,"form-group"],["formControlName","name"],["formControlName","status","readonly","",1,"bg-slate-300"],["formControlName","instructorName"],["type","date","formControlName","startDate"],["type","date","formControlName","endDate"],["formControlName","description"],[1,"flex","flex-row","gap-4","mb-3","items-center"],[1,"text-lg","font-poppins","text-black","border","border-1","rounded-lg","ml-3","bg-secondary","px-3","py-1","hover:bg-white",3,"click"],["formArrayName","weeklySchedule"],["class","grid grid-cols-4 gap-8 mb-2",3,"formGroupName",4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button",1,"button-secondary-xs",3,"click"],["type","button",1,"button-primary-xs",3,"click"],["type","button","class","button-primary-xs bg-red-400",3,"click",4,"ngIf"],[1,"error-message"],[1,"grid","grid-cols-4","gap-8","mb-2",3,"formGroupName"],["formControlName","day",1,"form-select"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["type","time","formControlName","startTime","placeholder","Start Time"],["type","time","formControlName","endTime","placeholder","End Time"],["class","text-lg font-poppins text-black border border-1 rounded-lg ml-3 bg-red-200 px-3 py-1 hover:bg-red-400",3,"click",4,"ngIf"],[3,"value"],[1,"text-lg","font-poppins","text-black","border","border-1","rounded-lg","ml-3","bg-red-200","px-3","py-1","hover:bg-red-400",3,"click"],["type","button",1,"button-primary-xs","bg-red-400",3,"click"]],template:function(o,a){o&1&&(i(0,"div",0)(1,"div",1)(2,"table",2)(3,"caption",3)(4,"div",4)(5,"span"),r(6,"Batch List"),t(),i(7,"button",5),b("click",function(){return a.openBatchModal()}),r(8,"+ Create Batch"),t()()(),i(9,"thead",6)(10,"tr",7)(11,"th",8),r(12,"Id"),t(),i(13,"th",8),r(14,"Name"),t(),i(15,"th",8),r(16,"Instructor"),t(),i(17,"th",8),r(18,"Strength"),t(),i(19,"th",8),r(20,"Start Date"),t(),i(21,"th",8),r(22,"End Date"),t(),i(23,"th",8),r(24,"Status"),t(),i(25,"th",8),r(26,"Weekly Schedule"),t(),i(27,"th",8),r(28,"Description"),t(),f(29,"th",8),t()(),i(30,"tbody",9),u(31,qn,23,9,"ng-container",10),t()()()(),u(32,Xn,62,12,"div",11)),o&2&&(l(31),c("ngForOf",a.batches),l(),c("ngIf",a.showModal))},dependencies:[L,re,Y,ee,te,K,X,R,J,Z,Q,ae,le],styles:[".modal[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background:#00000080;position:fixed;inset:0;height:100vh;width:100vw;z-index:1050}.modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{background:#fff;border-radius:8px;width:70%;height:90%;overflow-y:auto;margin:2rem auto;box-shadow:0 4px 24px #0003}.modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{border:none;border-radius:8px;overflow:hidden}.modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1rem 1.5rem;border-bottom:1px solid #e9ecef;background:#f8f9fa}.modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600}.modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{background:transparent;border:none;font-size:1.5rem;cursor:pointer;color:#333;transition:color .2s}.modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]:hover{color:#d9534f}.modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{padding:1.5rem}.modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:1.25rem}.modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:500}.modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:.5rem .75rem;border:1px solid #ced4da;border-radius:4px;font-size:1rem;transition:border-color .2s}.modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#d9534f;font-size:.875rem;margin-top:.25rem}.modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding:1rem 1.5rem;border-top:1px solid #e9ecef;background:#f8f9fa}.modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:100px;margin-left:.5rem}"]})}}return n})();var ei=[{path:"students",component:gt,canActivate:[ue]},{path:"enquiries",component:ft,canActivate:[ue]},{path:"packages",component:_t,canActivate:[ue]},{path:"batches",component:ht,canActivate:[ue]}],xt=(()=>{class n{static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275mod=fe({type:n})}static{this.\u0275inj=ge({imports:[me.forChild(ei),me]})}}return n})();var cr=(()=>{class n{static{this.\u0275fac=function(o){return new(o||n)}}static{this.\u0275mod=fe({type:n})}static{this.\u0275inj=ge({imports:[Ue,xt,Qe,Ze,me,de,xe]})}}return n})();export{cr as AdminModule};
